---
title: JVM入门、概念理解
tag:
    - Java
    - Jvm
---

### 类加载时机

编译得到的`.class`文件并不会立即加载JVM中。只有符合如下5种情况才会立即加载到虚拟机中。

* 创建类的实例（`new`的方式）。
    - 访问某个类或者接口的静态变量，
    - 对类或者接口的静态变量赋值
    - 调用类的静态方法
* 反射创建类
*  初始化某个类的子类，则其父类也会被初始化。
*  Java虚拟机在启动时被标明为启动类的类，直接使用`java.exe`命令运行某个主类（包含`main`方法的类）
*  使用JDK1.7动态语言支持时会立即加载

Java类是动态加载的，它并不会一次性吧所有的类加载再运行，而只是保证程序运行的基础类会立即加载到Jvm中。其他的类则在需要的时候才加载。
这也是为了节省内存开销。


